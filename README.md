<h1 align="center"><br><a href="https://github.com/GTSpray/P-titPote"><img src="https://github.com/GTSpray/P-titPote/blob/main/assets/ptitpote.png?raw=true" width="150px" alt="P'tit Pote Discord Bot"></a><br>P'tit Pote Discord Bot<br></h1><p align="center"><a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License: MIT"></a><a href="#prerequisites"><img src="https://img.shields.io/badge/node-â‰¥22.x-green.svg" alt="Node.js: â‰¥22.x"></a><a href="#prerequisites"><img src="https://img.shields.io/badge/docker-required-blue.svg" alt="Docker"></a></p>---## AboutP'tit Pote is a modern Discord bot built with **TypeScript**, **Express**, and **Discord.js**. It provides a scalable architecture with **MariaDB** database integration and a robust logging system using **Winston**.## Table of Contents- [Prerequisites](#prerequisites)- [Quick Start](#quick-start)- [Discord App Configuration](#discord-app-configuration)- [Local Development with Tunnel](#local-development-with-tunnel)- [Usage](#usage)- [Project Structure](#project-structure)- [Tech Stack](#tech-stack)- [Database Management](#database-management)- [Resources](#resources)- [License](#license)## Prerequisites- [Node.js](https://nodejs.org/en/download/) v22 or higher- [Docker](https://www.docker.com/) or [Podman](https://podman.io/)- A Discord account and a [created Discord application](https://discord.com/developers/applications)## Quick Start### 1. Clone the Repositorygit clone https://github.com/GTSpray/P-titPote.gitcd P-titPote### 2. Install Dependenciesnpm install### 3. Configure Environment VariablesCreate a `.env` file in the root directory (see `.env.sample` for reference):APP_ID=your_app_idBOT_TOKEN=your_bot_tokenPUBLIC_KEY=your_public_keyLOCALTUNNEL_SUBDOMAIN=your_subdomain  # optional for developmentFetch your credentials from your app's settings on the [Discord Developer Portal](https://discord.com/developers/applications).For detailed information, see the [Discord Getting Started Guide](https://discord.com/developers/docs/getting-started).> ğŸ”‘ Environment variables can be added to the `.env` file for local development, or in the Secrets tab in Replit/Glitch.## Discord App ConfigurationGo to your [Discord application settings](https://discord.com/developers/applications) and add these scopes:- `applications.commands`- `bot` (with "Send Messages" enabled)### Required Permissions- Manage Messages- Send Messages- Use external EmojisFor more details, check the [Discord Getting Started Guide](https://discord.com/developers/docs/getting-started).## Local Development with TunnelTo test your bot locally, you need to expose your local server to the internet. Use a tunnel service like **localtunnel**, **ngrok**, etc.### Using Localtunnel1. Start your local tunnel:npx localtunnel --port 3000 --subdomain my-bot-subdomainYou'll get a forwarding address like: `https://my-bot-subdomain.loca.lt`2. Go to your [app's settings](https://discord.com/developers/applications)3. On the **General Information** tab, find **Interactions Endpoint URL**4. Paste your tunnel address with `/interactions` appended:https://my-bot-subdomain.loca.lt/interactions5. Click **Save Changes** âœ…> ğŸ”‘ Set the `LOCALTUNNEL_SUBDOMAIN` variable in your `.env` file to ensure a static subdomain. See [localtunnel status page](https://status.loca.lt/) for more info.### Using ngrokYou can replace localtunnel with ngrok. Edit `docker-compose.dev.yml`:services:  localtunnel:    image: ngrok/ngrok:alpine    environment:      NGROK_AUTHTOKEN: "your_authtoken"    command: "http api:3000"    ports:      - "4040:4040"    expose:      - "4040"Get your tunnel URL from the ngrok dashboard and follow the same steps as above.## Usage### Production ModeLaunch the application:make startRegister slash commands:make registerStop the application:make stop### Development ModeLaunch development containers:make devKeep your code compiled with:make buildRun tests:make testRun tests in watch mode:make testw> âš™ï¸ A package like [nodemon](https://github.com/remy/nodemon), which watches for local changes and restarts your app, may be helpful while locally developing.## Project Structureimporting src/    ï¿½ï¿½ï¿½â”€â”€ api.ts                 # Express server    â”œâ”€â”€ gateway.ts             # Discord WebSocket gateway    â”œâ”€â”€ register.ts            # Slash command registration    â”œâ”€â”€ logger.ts              # Winston logger configuration    â”œâ”€â”€ mikro-orm.config.ts    # MikroORM & MariaDB config    â”œâ”€â”€ commands/              # Slash commands    â”œâ”€â”€ gateway/               # WebSocket event handlers    â”œâ”€â”€ db/                    # Database entities    â”œâ”€â”€ utils/                 # Utility functions    â””â”€â”€ migrations/            # Database migrationsâ”œâ”€â”€ tests/                     # Unit tests (Vitest)â”œâ”€â”€ docker/                    # Docker configurationsâ”œâ”€â”€ docker-compose.yml         # Production composeâ”œâ”€â”€ docker-compose.dev.yml     # Development composeâ”œâ”€â”€ Makefile                   # Project commandsâ”œâ”€â”€ package.json               # Dependenciesâ””â”€â”€ tsconfig.json              # TypeScript config## Tech Stack| Component | Technology |-----------|-----------|  **Language** | TypeScript |  **Runtime** | Node.js â‰¥22.x |  **API Server** | Express 5.x |  **Discord** | discord.js 14.x, discord-interactions |  **Database** | MariaDB + MikroORM 6.x |  **Logging** | Winston |  **Testing** | Vitest |  **Code Quality** | Prettier, TypeScript |  **Containerization** | Docker, Docker Compose |## Database ManagementUse [MikroORM Schema Generator](https://mikro-orm.io/docs/schema-generator) to manage your database:# Access the container shellmake sh# Dump create schema SQLnpx mikro-orm schema:create --dump# Dump update schema SQLnpx mikro-orm schema:update --dump# Dump drop schema SQLnpx mikro-orm schema:drop --dump## Resources- ğŸ“– **[Discord API Documentation](https://discord.com/developers/docs/intro)** - In-depth information about API features- ğŸ’¬ **[Discord Developers Server](https://discord.gg/discord-developers)** - Ask questions and interact with other devs- ğŸ”— **[Community Resources](https://discord.com/developers/docs/topics/community-resources)** - Community-maintained tools- ğŸš€ **[Localtunnel](https://github.com/localtunnel/localtunnel)** - Tunnel documentation- ğŸ“¦ **[MikroORM Documentation](https://mikro-orm.io/)** - ORM documentation- ğŸ“˜ **[discord.js Documentation](https://discord.js.org/)** - Library documentation## LicenseMIT - See the [LICENSE](LICENSE) file for details.---Created by [GTSpray](https://github.com/GTSpray)